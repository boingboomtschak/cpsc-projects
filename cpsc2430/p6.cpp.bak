// Devon McKee
// p6.cpp
// Uniform interfaces, STL, and iterators
// Purpose:
//
// Input:
//
// Output:
//
#include <iostream>
#include <iomanip>
#include <cstdlib>
#include <ctime>
#include <vector>
#include <algorithm>

using namespace std;

const int RAND_INT_MIN = 0;
const int RAND_INT_MAX = 999;
const int NUM_INTS = 1000;
const int LINE_ELEMENTS = 15;
const int ELEMENT_SPACE = 3;

bool isPrime(int n);

bool isMultipleFive(int n);

int main()
{
  srand(time(0));
  vector<int> v;
  int pos;
  bool cont = true;
  cout << "\033c";
  cout << "//*//*//*//*//*//*//\n";
  cout << "// Welcome to P6  //\n";
  cout << "// (STL)          //\n";
  cout << "// By Devon McKee //\n";
  cout << "//*//*//*//*//*//*//\n";
  cout << "\n";
  cout << "Press ENTER to continue...";
  cin.ignore();
  cout << "\033c";
  cout << "Printing vector with random int elements: \n";
  cout << "(Highlighting elements to be removed next pass)\n";
  for(int i = 0; i < NUM_INTS; i++){
    v.push_back((rand() % (RAND_INT_MAX - RAND_INT_MIN + 1)) + RAND_INT_MIN);
    if(isMultipleFive(v.at(i))){
      cout << "[" << setw(ELEMENT_SPACE) << v.at(i) << "]";
    }else{
      cout << " " << setw(ELEMENT_SPACE) << v.at(i) << " ";
    }
    if(((i+1) % LINE_ELEMENTS) == 0 && i > 0){
      cout << "\n";
    }
  }
  cout << "\n";
  cout << "Press ENTER to continue...";
  cin.ignore();
  cout << "\033c";
  cout << "Removing multiples of five...\n";
  v.erase(remove_if(v.begin(), v.end(), isMultipleFive), v.end());
  cout << "Printing vector without multiples of 5: \n";
  for(vector<int>::iterator it = v.begin(); it != v.end(); it++){
    if((isPrime(*(prev(it, 1))) && !isPrime(*(next(it, 1)))) ||
       (!isPrime(*(prev(it, 1))) && isPrime(*(next(it, 1))))){
      cout << "[" << setw(ELEMENT_SPACE) << *it << "]";
    }else{
      cout << " " << setw(ELEMENT_SPACE) << *it << " ";
    }
    pos = distance(v.begin(), it);
    if(((pos+1) % LINE_ELEMENTS) == 0 && pos > 0){
      cout << "\n";
    }
  }
  cout << "\n";
  cout << "Next, repeatedly removing prime numbers of mixed parity\n";
  cout << "Press ENTER to continue...";
  cin.ignore();
  // LOOP BEGINS HERE
  while(cont);
  cout << "\033c";
  cout << "Removing prime numbers between numbers of mixed parity...\n";
  // remove mixed parity prime numbers here
  for(vector<int>::iterator it = v.begin(); it != v.end(); it++){
    if((isPrime(*(prev(it, 1))) && !isPrime(*(next(it, 1)))) ||
       (!isPrime(*(prev(it, 1))) && isPrime(*(next(it, 1))))){
      v.erase(it);
    }
  }
  cout << "Printing vector without selected numbers: \n";
  for(vector<int>::iterator it = v.begin(); it != v.end(); it++){
    cout << " " << setw(ELEMENT_SPACE) << *it << " ";
    pos = distance(v.begin(), it);
    if(((pos+1) % LINE_ELEMENTS) == 0 && pos > 0){
      cout << "\n";
    }
  }
  cout << "\n";
  cout << "Press ENTER to continue...";
  cin.ignore();
  // LOOP ENDS HERE
  cout << "Thanks for using my program!\n";
  cout << "Have a nice day!\n";
  cout << "Press ENTER to exit...";
  cin.ignore();
  return 0;
}

bool isPrime(int n)
{
  if(n == 0 || n == 1){
    return false;  
  }else{
    for(int i=2; i<n; i++){
      if(n % i == 0){
        return false;
      }
    }
  }
  return true;
}

bool isMultipleFive(int n)
{
  if((n % 5) == 0){
    return true;
  }else{
    return false;
  }
}
